define(["app","directive/jrDatepicker","directive/jrDropdownButton","directive/jrPlaceholder","directive/jrPagination"],function(app){app.registerController("CtrlCompanyWarning",["$scope","$http","$state","$stateParams","$modal",function($scope,$http,$state,$stateParams){function getData(params){$http.get("/manage/company-warning/json/get/getCompanyWarningPage",{params:$.extend({},params,{optDesc:"公寓预警（新）"})}).success(function(data){$scope.orders=data.object})}$scope.queryParams=$.extend({pageNum:1,pageSize:10},$stateParams),$scope.queryOptions={ruleGroup:[{value:"",name:"类型"},{value:"逾期",name:"逾期"},{value:"清退",name:"清退"},{value:"授信",name:"授信"},{value:"推单",name:"推单"},{value:"合同",name:"合同"},{value:"房管员",name:"房管员"}],warningStatus:[{value:"",name:"是否解决"},{value:"10",name:"待解决"},{value:"20",name:"已解决"}],triggerType:[{value:"",name:"触发方式"},{value:"1",name:"系统冻结"},{value:"0",name:"短信提醒"}],unfreezeType:[{value:"",name:"解除方式"},{value:"-11",name:"系统解冻"},{value:"-110",name:"人工解冻"}]},$scope.orders={pageNum:1,pageSize:10},getData($scope.queryParams),$scope.search=function(){$scope.queryParams.pageNum=1,getData($scope.queryParams)},$scope.clearParams=function(){var pageSize=$scope.queryParams.pageSize;$scope.queryParams={pageNum:1,pageSize:pageSize}},$scope.toOrderPage=function(item){"1"==item.ruleCorrectType?$state.go("overdue",{orderIds:item.orderIds}):"2"==item.ruleCorrectType&&$state.go("repayingList.list",{orderIds:item.orderIds})},$scope.$watch("orders.pageNum",function(newValue,oldValue){return newValue===oldValue?!1:($scope.queryParams.pageNum=newValue,void getData($scope.queryParams))}),$scope.$watch("orders.pageSize",function(newValue,oldValue){return newValue===oldValue?!1:($scope.queryParams.pageSize=newValue,void getData($scope.queryParams))})}])});